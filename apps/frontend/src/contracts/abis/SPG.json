{"abi":[{"type":"function","name":"claimRevenue","inputs":[{"name":"ipId","type":"address","internalType":"address"},{"name":"claimer","type":"address","internalType":"address"}],"outputs":[{"name":"claimableAmount","type":"uint256","internalType":"uint256"}],"stateMutability":"nonpayable"},{"type":"function","name":"getIPAsset","inputs":[{"name":"ipId","type":"string","internalType":"string"}],"outputs":[{"name":"owner","type":"address","internalType":"address"},{"name":"ipAssetType","type":"uint8","internalType":"uint8"},{"name":"registeredAt","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getPendingRevenue","inputs":[{"name":"account","type":"address","internalType":"address"}],"outputs":[{"name":"pendingAmount","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"isRegistered","inputs":[{"name":"ipId","type":"string","internalType":"string"}],"outputs":[{"name":"isRegistered","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"mint","inputs":[{"name":"ipId","type":"string","internalType":"string"},{"name":"to","type":"address","internalType":"address"}],"outputs":[{"name":"tokenId","type":"uint256","internalType":"uint256"}],"stateMutability":"nonpayable"},{"type":"function","name":"payRoyaltyOnBehalf","inputs":[{"name":"ipId","type":"address","internalType":"address"},{"name":"payer","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"payable"},{"type":"function","name":"payRoyaltyWithSharing","inputs":[{"name":"ipId","type":"address","internalType":"address"},{"name":"payer","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"payable"},{"type":"function","name":"register","inputs":[{"name":"ipAssetType","type":"uint8","internalType":"uint8"},{"name":"name","type":"string","internalType":"string"},{"name":"hash","type":"bytes32","internalType":"bytes32"},{"name":"registrationData","type":"bytes","internalType":"bytes"}],"outputs":[{"name":"ipId","type":"string","internalType":"string"}],"stateMutability":"nonpayable"},{"type":"function","name":"registerDerivative","inputs":[{"name":"parentIpId","type":"address","internalType":"address"},{"name":"licenseTokenId","type":"uint256","internalType":"uint256"},{"name":"owner","type":"address","internalType":"address"},{"name":"name","type":"string","internalType":"string"},{"name":"contentHash","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"tokenId","type":"uint256","internalType":"uint256"},{"name":"derivativeIpId","type":"address","internalType":"address"}],"stateMutability":"nonpayable"},{"type":"function","name":"setRoyaltyPolicy","inputs":[{"name":"ipId","type":"address","internalType":"address"},{"name":"beneficiary","type":"address","internalType":"address"},{"name":"royaltyPercentage","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"}],"bytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"deployedBytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"methodIdentifiers":{"claimRevenue(address,address)":"0beb7564","getIPAsset(string)":"58bd4738","getPendingRevenue(address)":"220cadbe","isRegistered(string)":"c822d7f0","mint(string,address)":"1c351a9d","payRoyaltyOnBehalf(address,address)":"4415a6f0","payRoyaltyWithSharing(address,address)":"5f87df72","register(uint8,string,bytes32,bytes)":"5fa91434","registerDerivative(address,uint256,address,string,bytes32)":"a95b0aa5","setRoyaltyPolicy(address,address,uint256)":"f845211a"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.30+commit.73712a01\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"ipId\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"claimer\",\"type\":\"address\"}],\"name\":\"claimRevenue\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"claimableAmount\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"ipId\",\"type\":\"string\"}],\"name\":\"getIPAsset\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"internalType\":\"uint8\",\"name\":\"ipAssetType\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"registeredAt\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"getPendingRevenue\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"pendingAmount\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"ipId\",\"type\":\"string\"}],\"name\":\"isRegistered\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"isRegistered\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"ipId\",\"type\":\"string\"},{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"}],\"name\":\"mint\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"ipId\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"payer\",\"type\":\"address\"}],\"name\":\"payRoyaltyOnBehalf\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"ipId\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"payer\",\"type\":\"address\"}],\"name\":\"payRoyaltyWithSharing\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint8\",\"name\":\"ipAssetType\",\"type\":\"uint8\"},{\"internalType\":\"string\",\"name\":\"name\",\"type\":\"string\"},{\"internalType\":\"bytes32\",\"name\":\"hash\",\"type\":\"bytes32\"},{\"internalType\":\"bytes\",\"name\":\"registrationData\",\"type\":\"bytes\"}],\"name\":\"register\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"ipId\",\"type\":\"string\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"parentIpId\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"licenseTokenId\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"internalType\":\"string\",\"name\":\"name\",\"type\":\"string\"},{\"internalType\":\"bytes32\",\"name\":\"contentHash\",\"type\":\"bytes32\"}],\"name\":\"registerDerivative\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"derivativeIpId\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"ipId\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"beneficiary\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"royaltyPercentage\",\"type\":\"uint256\"}],\"name\":\"setRoyaltyPolicy\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"details\":\"SPG is the recommended periphery contract for registration and minting This interface provides the essential functions needed for IP Asset registration\",\"kind\":\"dev\",\"methods\":{\"claimRevenue(address,address)\":{\"params\":{\"claimer\":\"The claimer address\",\"ipId\":\"The IP Asset ID\"},\"returns\":{\"claimableAmount\":\"Amount claimed\"}},\"getIPAsset(string)\":{\"params\":{\"ipId\":\"The IP Asset ID\"},\"returns\":{\"ipAssetType\":\"The type of the IP Asset\",\"owner\":\"The owner of the IP Asset\",\"registeredAt\":\"Timestamp of registration\"}},\"getPendingRevenue(address)\":{\"params\":{\"account\":\"The account address\"},\"returns\":{\"pendingAmount\":\"Pending revenue amount\"}},\"isRegistered(string)\":{\"params\":{\"ipId\":\"The IP Asset ID\"},\"returns\":{\"isRegistered\":\"True if the IP Asset is registered\"}},\"mint(string,address)\":{\"params\":{\"ipId\":\"The IP Asset ID to mint\",\"to\":\"Address to mint the NFT to\"},\"returns\":{\"tokenId\":\"The minted token ID\"}},\"payRoyaltyOnBehalf(address,address)\":{\"params\":{\"ipId\":\"The IP Asset ID\",\"payer\":\"The payer address\"}},\"payRoyaltyWithSharing(address,address)\":{\"params\":{\"ipId\":\"The IP Asset ID\",\"payer\":\"The payer address\"}},\"register(uint8,string,bytes32,bytes)\":{\"params\":{\"hash\":\"Content hash of the IP Asset\",\"ipAssetType\":\"Type of IP Asset (e.g., 1 for Story IP Asset)\",\"name\":\"Name of the IP Asset\",\"registrationData\":\"Additional registration data\"},\"returns\":{\"ipId\":\"The registered IP Asset ID\"}},\"registerDerivative(address,uint256,address,string,bytes32)\":{\"params\":{\"contentHash\":\"Derivative content hash\",\"licenseTokenId\":\"License token ID\",\"name\":\"Derivative IP name\",\"owner\":\"Owner of derivative\",\"parentIpId\":\"Parent IP Asset ID\"},\"returns\":{\"derivativeIpId\":\"Derivative IP ID\",\"tokenId\":\"Token ID\"}},\"setRoyaltyPolicy(address,address,uint256)\":{\"params\":{\"beneficiary\":\"The royalty beneficiary\",\"ipId\":\"The IP Asset ID\",\"royaltyPercentage\":\"Royalty percentage (basis points)\"}}},\"title\":\"IStoryProtocolSPG\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"claimRevenue(address,address)\":{\"notice\":\"Claim accumulated revenue\"},\"getIPAsset(string)\":{\"notice\":\"Get IP Asset information\"},\"getPendingRevenue(address)\":{\"notice\":\"Get pending revenue for address\"},\"isRegistered(string)\":{\"notice\":\"Check if an IP Asset is registered\"},\"mint(string,address)\":{\"notice\":\"Mint an IP Asset NFT\"},\"payRoyaltyOnBehalf(address,address)\":{\"notice\":\"Pay royalty for IP usage\"},\"payRoyaltyWithSharing(address,address)\":{\"notice\":\"Pay royalty with parent revenue sharing\"},\"register(uint8,string,bytes32,bytes)\":{\"notice\":\"Register an IP Asset on Story Protocol\"},\"registerDerivative(address,uint256,address,string,bytes32)\":{\"notice\":\"Register derivative IP\"},\"setRoyaltyPolicy(address,address,uint256)\":{\"notice\":\"Set royalty policy for IP\"}},\"notice\":\"Interface for Story Protocol SPG (Story Protocol Gateway/Periphery)\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/interfaces/IStoryProtocolSPG.sol\":\"IStoryProtocolSPG\"},\"evmVersion\":\"prague\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":10000},\"remappings\":[\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\"],\"viaIR\":true},\"sources\":{\"src/interfaces/IStoryProtocolSPG.sol\":{\"keccak256\":\"0x258a2dfdaadc41603c11f1a4187f5438b3a435f84abe3e86619404d89cd76bc0\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://6b685f3a81d2474555e417980da82565d2b7b7329cca3ea41d524e6c10a1a097\",\"dweb:/ipfs/QmbYaPAUKQezLLzzcbd4rCUDbWMCRFoT6qACj8a3L3uUht\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.30+commit.73712a01"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address","name":"ipId","type":"address"},{"internalType":"address","name":"claimer","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"claimRevenue","outputs":[{"internalType":"uint256","name":"claimableAmount","type":"uint256"}]},{"inputs":[{"internalType":"string","name":"ipId","type":"string"}],"stateMutability":"view","type":"function","name":"getIPAsset","outputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint8","name":"ipAssetType","type":"uint8"},{"internalType":"uint256","name":"registeredAt","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"stateMutability":"view","type":"function","name":"getPendingRevenue","outputs":[{"internalType":"uint256","name":"pendingAmount","type":"uint256"}]},{"inputs":[{"internalType":"string","name":"ipId","type":"string"}],"stateMutability":"view","type":"function","name":"isRegistered","outputs":[{"internalType":"bool","name":"isRegistered","type":"bool"}]},{"inputs":[{"internalType":"string","name":"ipId","type":"string"},{"internalType":"address","name":"to","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"mint","outputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"ipId","type":"address"},{"internalType":"address","name":"payer","type":"address"}],"stateMutability":"payable","type":"function","name":"payRoyaltyOnBehalf"},{"inputs":[{"internalType":"address","name":"ipId","type":"address"},{"internalType":"address","name":"payer","type":"address"}],"stateMutability":"payable","type":"function","name":"payRoyaltyWithSharing"},{"inputs":[{"internalType":"uint8","name":"ipAssetType","type":"uint8"},{"internalType":"string","name":"name","type":"string"},{"internalType":"bytes32","name":"hash","type":"bytes32"},{"internalType":"bytes","name":"registrationData","type":"bytes"}],"stateMutability":"nonpayable","type":"function","name":"register","outputs":[{"internalType":"string","name":"ipId","type":"string"}]},{"inputs":[{"internalType":"address","name":"parentIpId","type":"address"},{"internalType":"uint256","name":"licenseTokenId","type":"uint256"},{"internalType":"address","name":"owner","type":"address"},{"internalType":"string","name":"name","type":"string"},{"internalType":"bytes32","name":"contentHash","type":"bytes32"}],"stateMutability":"nonpayable","type":"function","name":"registerDerivative","outputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"address","name":"derivativeIpId","type":"address"}]},{"inputs":[{"internalType":"address","name":"ipId","type":"address"},{"internalType":"address","name":"beneficiary","type":"address"},{"internalType":"uint256","name":"royaltyPercentage","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"setRoyaltyPolicy"}],"devdoc":{"kind":"dev","methods":{"claimRevenue(address,address)":{"params":{"claimer":"The claimer address","ipId":"The IP Asset ID"},"returns":{"claimableAmount":"Amount claimed"}},"getIPAsset(string)":{"params":{"ipId":"The IP Asset ID"},"returns":{"ipAssetType":"The type of the IP Asset","owner":"The owner of the IP Asset","registeredAt":"Timestamp of registration"}},"getPendingRevenue(address)":{"params":{"account":"The account address"},"returns":{"pendingAmount":"Pending revenue amount"}},"isRegistered(string)":{"params":{"ipId":"The IP Asset ID"},"returns":{"isRegistered":"True if the IP Asset is registered"}},"mint(string,address)":{"params":{"ipId":"The IP Asset ID to mint","to":"Address to mint the NFT to"},"returns":{"tokenId":"The minted token ID"}},"payRoyaltyOnBehalf(address,address)":{"params":{"ipId":"The IP Asset ID","payer":"The payer address"}},"payRoyaltyWithSharing(address,address)":{"params":{"ipId":"The IP Asset ID","payer":"The payer address"}},"register(uint8,string,bytes32,bytes)":{"params":{"hash":"Content hash of the IP Asset","ipAssetType":"Type of IP Asset (e.g., 1 for Story IP Asset)","name":"Name of the IP Asset","registrationData":"Additional registration data"},"returns":{"ipId":"The registered IP Asset ID"}},"registerDerivative(address,uint256,address,string,bytes32)":{"params":{"contentHash":"Derivative content hash","licenseTokenId":"License token ID","name":"Derivative IP name","owner":"Owner of derivative","parentIpId":"Parent IP Asset ID"},"returns":{"derivativeIpId":"Derivative IP ID","tokenId":"Token ID"}},"setRoyaltyPolicy(address,address,uint256)":{"params":{"beneficiary":"The royalty beneficiary","ipId":"The IP Asset ID","royaltyPercentage":"Royalty percentage (basis points)"}}},"version":1},"userdoc":{"kind":"user","methods":{"claimRevenue(address,address)":{"notice":"Claim accumulated revenue"},"getIPAsset(string)":{"notice":"Get IP Asset information"},"getPendingRevenue(address)":{"notice":"Get pending revenue for address"},"isRegistered(string)":{"notice":"Check if an IP Asset is registered"},"mint(string,address)":{"notice":"Mint an IP Asset NFT"},"payRoyaltyOnBehalf(address,address)":{"notice":"Pay royalty for IP usage"},"payRoyaltyWithSharing(address,address)":{"notice":"Pay royalty with parent revenue sharing"},"register(uint8,string,bytes32,bytes)":{"notice":"Register an IP Asset on Story Protocol"},"registerDerivative(address,uint256,address,string,bytes32)":{"notice":"Register derivative IP"},"setRoyaltyPolicy(address,address,uint256)":{"notice":"Set royalty policy for IP"}},"version":1}},"settings":{"remappings":["@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/","openzeppelin-contracts/=lib/openzeppelin-contracts/"],"optimizer":{"enabled":true,"runs":10000},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/interfaces/IStoryProtocolSPG.sol":"IStoryProtocolSPG"},"evmVersion":"prague","libraries":{},"viaIR":true},"sources":{"src/interfaces/IStoryProtocolSPG.sol":{"keccak256":"0x258a2dfdaadc41603c11f1a4187f5438b3a435f84abe3e86619404d89cd76bc0","urls":["bzz-raw://6b685f3a81d2474555e417980da82565d2b7b7329cca3ea41d524e6c10a1a097","dweb:/ipfs/QmbYaPAUKQezLLzzcbd4rCUDbWMCRFoT6qACj8a3L3uUht"],"license":"MIT"}},"version":1},"id":74}